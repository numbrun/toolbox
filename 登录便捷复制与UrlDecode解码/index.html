<!--
 * @Author: liuchenglong 768206581@qq.com
 * @Date: 2022-11-04 18:41:36
 * @LastEditors: liuchenglong 768206581@qq.com
 * @LastEditTime: 2023-05-29 17:29:45
 * @FilePath: /nxin-code/1.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>登陆信息编辑复制&UrlDecode解码</title>
    <link rel="icon"
        href="data:image/png;base64,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">

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<style>
    .trans {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        margin: 10px 0;
    }

    .other-ipt {
        margin-left: 15px;
    }
</style>

<body>
    <div id="app">
        <div>
            <el-row :gutter="10">
                <el-col :xs="24" :sm="24" :md="24" :lg="6" :xl="6" style="margin: 0 0 10px 0;">
                    <el-card style=" width: 100% ;min-height: 582px;">
                        <div slot="header" class="clearfix">
                            <span>UrlDecode解码
                                <el-tooltip class="item" effect="dark" content="主要用于url转换，查看当前地址栏传参内容"
                                    placement="top-start">
                                    <i class="el-icon-info"> </i>
                                </el-tooltip>
                            </span>
                            <el-button style="float: right; padding: 3px 0;color: #606266;"
                                type="text">广告位招租</el-button>
                        </div>
                        <div class="text item">
                            <el-input @input="changeCode" type="textarea" :rows="8" placeholder="转换的内容粘贴在这里 "
                                v-model="beforeUrlDecode">
                            </el-input>
                            <el-input style="margin-top: 10px;" type="textarea" :rows="8" placeholder="输出的内容在这里 "
                                v-model="newUrlDecode">
                            </el-input>
                        </div>
                    </el-card>
                </el-col>
                <el-col :xs="24" :sm="24" :md="24" :lg="18" :xl="18">
                    <el-card style="width: 100%;" class="box-card">
                        <div slot="header" class="clearfix">
                            <span>登陆信息便捷复制
                                <el-tooltip class="item" effect="dark" content="主要用于PC端ng项目，快速切换环境变量(environment)"
                                    placement="top-start">
                                    <i class="el-icon-info"> </i>
                                </el-tooltip>
                            </span>
                            <el-button style="float: right; padding: 3px 0" @click="goQlw"
                                type="text">跳转到qlw登陆信息</el-button>
                        </div>
                        <div class="">
                            <el-row style="margin: 0 0  10px 0; ">
                                <div class="">
                                    <el-radio-group v-model="selectAppIdStatus" @input="radioChange">
                                        <el-radio-button label="2007092157330000101">标准版</el-radio-button>
                                        <el-radio-button label="2211101352520000109">集团版</el-radio-button>
                                        <el-radio-button label="2108201514320000109">养户版</el-radio-button>
                                        <el-radio-button label="2108241835360000109">会员猪场</el-radio-button>
                                        <el-radio-button label="">自定义AppId</el-radio-button>
                                    </el-radio-group>
                                    <div class="other-ipt">
                                        <el-input v-if="!selectAppIdStatus" v-model="appId"
                                            placeholder="请输入appId"></el-input>
                                    </div>
                                </div>
                            </el-row>
                            <!-- <el-divider><i class="el-icon-mobile-phone"></i></el-divider> -->
                            <el-row :gutter="10">
                                <el-col :xs="24" :sm="24" :md="11" :lg="11" :xl="11">
                                    <div class=" ">
                                        <el-input type="textarea" :rows="20" placeholder="
1.请先登录，登录后点击右上角跳转登录信息，点击【复制全部信息】
2.回到该页面将剪切板粘贴到此，举例如下：
3.点击按钮【转换并复制】，粘贴到项目env文件中即可
会话ID  12350110639916581488  
用户ID  1801863  
登录名  NX17698765414  
姓名  司女士  
账套日期  2023-5  
集团ID  1805660  
集团名称  D企集团  
公司ID  1953064  
公司名称  D企-开开  
认证状态  未认证  
三级单位ID 2206131610230000076  
三级单位名称  场景二  
浏览器  Mac  Chrome 113.0  
访问IP  106.39.26.50 - 221.5  
时间  2023-05-22 13:56:45  
" v-model="oldinput">
                                        </el-input>
                                    </div>
                                </el-col>
                                <el-col :xs="24" :sm="24" :md="2" :lg="2" :xl="2">
                                    <div class="trans">
                                        <el-button @click="go" type="primary">转换并复制</el-button>
                                    </div>
                                </el-col>
                                <el-col :xs="24" :sm="24" :md="11" :lg="11" :xl="11">
                                    <el-input type="textarea" :rows="20" placeholder="转换后的内容内容" v-model="newValue">
                                    </el-input>
                                </el-col>
                            </el-row>
                        </div>
                    </el-card>
                </el-col>
            </el-row>
        </div>
    </div>
</body>
<script src="./vue.js"></script>
<!-- 引入组件库 -->
<script src="./element.js"></script>
<script>
    new Vue({
        el: '#app',
        data: function () {
            return {
                selectAppIdStatus: '2211101352520000109',
                appId: '2211101352520000109',
                oldinput: ``,
                newValue: "",
                //----------
                beforeUrlDecode: '',
                newUrlDecode: ''
            }
        },
        mounted() {
            // this.go();
            let _selectAppIdStatus = window.localStorage.getItem('env-selectAppIdStatus');
            let _appId = window.localStorage.getItem('env-appId');
            let _newValue = window.localStorage.getItem('env-newValue');

            if (_selectAppIdStatus) {
                this.selectAppIdStatus = _selectAppIdStatus;
            }
            if (_appId) {
                this.appId = _appId;
            }
            if (_newValue) {
                this.newValue = _newValue;
            }
        },
        methods: {
            decodeUrl(url) {
                const decodedUrl = decodeURIComponent(url);
                if (decodedUrl === url) {
                    return decodedUrl;
                } else {
                    return this.decodeUrl(decodedUrl);
                }
            },
            changeCode(encodedUrl) {
                if (!encodedUrl) return
                var decodedUrl = this.decodeUrl(encodedUrl);
                console.log(1111, decodedUrl);
                this.newUrlDecode = decodedUrl
            },
            //------------------
            radioChange(val) {
                console.log(val);
                this.appId = val
            },
            goQlw() {
                const url = 'https://baseqlw.t.nxin.com/home/index?retUrl=https://baseqlw.t.nxin.com/home/index'
                window.open(url)
            },
            go() {
                window.localStorage.setItem('env-selectAppIdStatus', this.selectAppIdStatus)
                window.localStorage.setItem('env-appId', this.appId)


                let initArr = this.oldinput.split('  ')
                let handleobj = {}
                initArr.forEach((item, index) => {
                    if (index % 2 == 0) {
                        item = item.trim()
                        handleobj[item] = initArr[index + 1]
                    }
                });
                this.responseObj(handleobj)
            },
            //将input的值发送到页面上
            responseObj(handleobj) {
                let demoUserInfo = {
                    userId: '',
                    userName: '',
                    /**公司ID */
                    enterpriseId: '',
                    enterpriseName: '',
                    /**appid */
                    menuId: this.appId,
                    /**三级单位ID */
                    childId: '',
                    pigFarmName: '',
                    enteDate: '',
                    /**集团ID */
                    enterGroupId: '',
                    enterGroupName: '',
                }
                for (const key in handleobj) {
                    const value = handleobj[key];
                    const show = {
                        '三级单位ID': 1
                    }
                    if (key == '用户ID') {
                        demoUserInfo.userId = value
                    }
                    if (key == '姓名') {
                        demoUserInfo.userName = value
                    }
                    if (key == '公司ID') {
                        demoUserInfo.enterpriseId = value
                    }
                    if (key == '公司名称') {
                        demoUserInfo.enterpriseName = value
                    }
                    if (key == '三级单位ID') {
                        demoUserInfo.childId = value
                    }
                    if (key == '三级单位名称') {
                        demoUserInfo.pigFarmName = value
                    }
                    if (key == '账套日期') {
                        demoUserInfo.enteDate = value
                    }
                    if (key == '集团ID') {
                        demoUserInfo.enterGroupId = value
                    }
                    if (key == '集团名称') {
                        demoUserInfo.enterGroupName = value
                    }
                }
                console.log(demoUserInfo);

                const str = JSON.stringify(demoUserInfo, null, 2); // 第三个参数2表示缩进2个空格

                this.newValue = JSON.stringify(demoUserInfo, null, 2).slice(1, str.length - 1)

                window.localStorage.setItem('env-newValue', this.newValue)

                this.copyValue(this.newValue)
                return
            },
            // 先给要复制的文本或者按钮加上点击事件后，并将要复制的值传过来
            async copyValue(val) {
                if (navigator.clipboard && window.isSecureContext) {
                    // navigator clipboard 向剪贴板写文本
                    this.$message.success('复制成功')
                    return navigator.clipboard.writeText(val)
                } else {
                    // 创建text area
                    const textArea = document.createElement('textarea')
                    textArea.value = val
                    // 使text area不在viewport，同时设置不可见
                    document.body.appendChild(textArea)
                    // textArea.focus()
                    textArea.select()
                    this.$message.success('复制成功')
                    return new Promise((res, rej) => {
                        // 执行复制命令并移除文本框
                        document.execCommand('copy') ? res() : rej()
                        textArea.remove()
                    })
                }
            },
            // text: 要复制的内容， callback: 回调
            // copyText(text, callback) {
            //     var tag = document.createElement('input');
            //     tag.setAttribute('id', 'cp_hgz_input');
            //     tag.value = text;
            //     document.getElementsByTagName('body')[0].appendChild(tag);
            //     document.getElementById('cp_hgz_input').select();
            //     document.execCommand('copy');
            //     document.getElementById('cp_hgz_input').remove();
            //     if (callback) { callback(text) }
            // }
        },
    })
</script>

</html>